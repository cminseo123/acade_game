<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Arcade Balance</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* [1] Í∏∞Î≥∏ ÏÑ§Ï†ï */
        body { 
            font-family: Pretendard, sans-serif; 
            margin: 0; overflow: hidden;
            background: #0f0c29;
            background: linear-gradient(to bottom, #1a1a2e, #16213e, #0f0c29);
            color: white;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        /* [2] Í≤åÏûÑ ÌôîÎ©¥ (Game Screen) */
        #gameScreen {
            width: 100%; height: 100vh;
            display: flex; flex-direction: column;
            transition: opacity 0.5s;
        }

        /* ÏÉÅÎã® ÏßàÎ¨∏ Ï†ÑÍ¥ëÌåê */
        .screen-area {
            height: 55vh; width: 100%;
            display: flex; flex-direction: column;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .question-box {
            flex: 1;
            display: flex; flex-direction: column; 
            align-items: center; justify-content: center;
            border-radius: 20px;
            margin-bottom: 10px;
            text-align: center;
            border: 2px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }

        .box-a { background: linear-gradient(135deg, rgba(255, 65, 108, 0.2), rgba(255, 65, 108, 0.05)); }
        .box-b { background: linear-gradient(135deg, rgba(33, 147, 176, 0.2), rgba(33, 147, 176, 0.05)); }

        .q-text {
            font-size: 1.6rem; font-weight: 800;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            word-break: keep-all; line-height: 1.3;
        }

        /* ÌïòÎã® Ïª®Ìä∏Î°§Îü¨ */
        .control-area {
            height: 45vh; width: 100%;
            background: #111;
            border-top: 4px solid #333;
            border-radius: 40px 40px 0 0;
            display: flex; align-items: center; justify-content: space-evenly;
            padding-bottom: 20px;
            position: relative;
            box-shadow: 0 -10px 30px rgba(0,0,0,0.5);
        }

        /* 3D ÏïÑÏºÄÏù¥Îìú Î≤ÑÌäº */
        .arcade-btn {
            width: 140px; height: 140px;
            border-radius: 50%;
            border: none; position: relative; cursor: pointer;
            transition: all 0.1s;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            -webkit-user-select: none;
        }
        .btn-red {
            background: radial-gradient(circle at 30% 30%, #ff5e62, #ff0000);
            box-shadow: 0 10px 0 #990000, 0 15px 20px rgba(0,0,0,0.4), inset 0 5px 10px rgba(255,255,255,0.4);
        }
        .btn-red:active { transform: translateY(10px); box-shadow: 0 0 0 #990000, inset 0 5px 10px rgba(0,0,0,0.6); }
        
        .btn-blue {
            background: radial-gradient(circle at 30% 30%, #36d1dc, #5b86e5);
            box-shadow: 0 10px 0 #005EA2, 0 15px 20px rgba(0,0,0,0.4), inset 0 5px 10px rgba(255,255,255,0.4);
        }
        .btn-blue:active { transform: translateY(10px); box-shadow: 0 0 0 #005EA2, inset 0 5px 10px rgba(0,0,0,0.6); }

        .btn-label { font-size: 2rem; font-weight: 900; color: rgba(255,255,255,0.9); text-shadow: 0 2px 2px rgba(0,0,0,0.3); }

        /* ÌÉÄÏù¥Î®∏ */
        .timer-display {
            position: absolute; top: -30px; left: 50%; transform: translateX(-50%);
            background: #000; border: 4px solid #555; border-radius: 15px; padding: 5px 20px;
            font-family: 'Courier New', monospace; font-size: 2rem; font-weight: bold; color: #FFD700;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); z-index: 20;
        }
        .timer-urgent { color: #ff0000; text-shadow: 0 0 10px #ff0000; animation: blink 0.2s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }

        /* [3] Í≤∞Í≥º ÌôîÎ©¥ (Result Screen) */
        #resultScreen {
            position: fixed; inset: 0; z-index: 200;
            background: rgba(15, 12, 41, 0.95);
            backdrop-filter: blur(10px);
            display: flex; flex-direction: column; align-items: center;
            padding: 20px;
            overflow-y: auto;
            opacity: 0; pointer-events: none; transition: opacity 0.5s;
        }
        #resultScreen.show { opacity: 1; pointer-events: auto; }

        /* Î∂ÑÏÑù ÏΩîÎ©òÌä∏ Î∞ïÏä§ (NEW) */
        .analysis-box {
            width: 100%; max-width: 500px;
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .analysis-title {
            font-size: 1.5rem; font-weight: 900; margin-bottom: 10px;
            background: linear-gradient(to right, #ffd194, #70e1f5);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .analysis-desc {
            font-size: 0.9rem; color: #ddd; line-height: 1.6; word-break: keep-all;
        }

        .result-card {
            width: 100%; max-width: 500px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin-bottom: 10px;
            padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .choice-badge {
            padding: 5px 10px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; width: 60px; text-align: center;
        }
        .badge-a { background: rgba(255, 65, 108, 0.2); color: #ff8a8a; border: 1px solid #ff416c; }
        .badge-b { background: rgba(33, 147, 176, 0.2); color: #7deeff; border: 1px solid #2193b0; }
        
        .result-text { font-size: 1rem; font-weight: bold; flex: 1; margin-left: 15px; text-align: left; }

        /* ÏßÑÌñâÎèÑ Î∞î */
        .progress-bar {
            position: absolute; top: 0; left: 0; height: 4px; background: #4CAF50; transition: width 0.3s;
        }

    </style>
</head>
<body>

    <div class="progress-bar" id="progressBar" style="width: 0%"></div>

    <div class="absolute top-4 left-4 z-50">
        <a href="index.html" class="flex items-center justify-center w-8 h-8 rounded-full bg-white/10 border border-white/20 text-white text-xs active:scale-90 transition">‚úï</a>
    </div>

    <div id="gameScreen">
        <div class="screen-area">
            <div class="question-box box-a" id="boxA">
                <span class="text-[10px] font-bold text-red-300 mb-2 tracking-widest">OPTION A</span>
                <div id="textA" class="q-text">ÏßàÎ¨∏ A</div>
            </div>
            
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-black border-2 border-white rounded-full w-10 h-10 flex items-center justify-center font-black italic text-yellow-400 z-20">VS</div>

            <div class="question-box box-b" id="boxB">
                <span class="text-[10px] font-bold text-cyan-300 mb-2 tracking-widest">OPTION B</span>
                <div id="textB" class="q-text">ÏßàÎ¨∏ B</div>
            </div>
        </div>

        <div class="control-area">
            <div class="timer-display" id="timer">3.00</div>
            <button class="arcade-btn btn-red" onclick="select('A')"><span class="btn-label">A</span></button>
            <button class="arcade-btn btn-blue" onclick="select('B')"><span class="btn-label">B</span></button>
        </div>
    </div>

    <div id="resultScreen">
        <div class="text-center mt-10 mb-6">
            <h1 class="text-3xl font-black italic text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">ANALYSIS</h1>
            <p class="text-gray-400 text-sm mt-1">Ïã¨Î¶¨ÌïôÏ†Å Ïù∏Î•ò Ïú†Ìòï Î∂ÑÏÑù</p>
        </div>

        <div id="analysisBox" class="analysis-box">
            <div id="analysisTitle" class="analysis-title">Î∂ÑÏÑùÏ§ë...</div>
            <div id="analysisDesc" class="analysis-desc"></div>
        </div>

        <div id="resultList" class="w-full max-w-md pb-40">
            </div>

        <div class="fixed bottom-0 left-0 w-full p-6 bg-gradient-to-t from-black to-transparent z-50">
            <button onclick="location.reload()" class="w-full py-4 bg-white text-black font-black text-xl rounded-full shadow-lg active:scale-95 transition">
                Îã§Ïãú ÌïòÍ∏∞ ‚Üª
            </button>
        </div>
    </div>

    <script>
        // ÏßàÎ¨∏ Î¶¨Ïä§Ìä∏
        const allQuestions = [
            { A: "Ïó∞ÎùΩ ÎëêÏ†à", B: "Ìè∞ Í≤ÄÏÇ¨" },
            { A: "ÎÇòÎ•º Ï¢ãÏïÑÌïòÎäî", B: "ÎÇ¥Í∞Ä Ï¢ãÏïÑÌïòÎäî" },
            { A: "Ïà†ÏûêÎ¶¨ 5Ìöå", B: "Ïù¥ÏÑ±ÏπúÍµ¨ 5Î™Ö" },
            { A: "Î™®Î•¥Îäî Í≤å ÏïΩ", B: "ÏïÑÎäî Í≤å Ìûò" },
            { A: "ÏûÖ Íæπ Îã´Ïùå", B: "ÎÖºÎ¶¨Ïôï Î≥ÄÏã†" },
            { A: "Ïßë Îç∞Ïù¥Ìä∏", B: "Î∞ñ Îç∞Ïù¥Ìä∏" },
            { A: "Í≥ºÍ±∞ Ïò§Ìîà", B: "Ï†àÎåÄ ÎπÑÎ∞Ä" },
            { A: "Ïù¥ÏÑ±ÏπúÍµ¨ Î∞•", B: "Ïù¥ÏÑ±ÏπúÍµ¨ Ïà†" },
            { A: "Îß§Ïùº ÏÇ¨ÎûëÌï¥", B: "Ïõî 1Ìöå Î™ÖÌíà" },
            { A: "10ÎÖÑÏßÄÍ∏∞ Ïó¨ÏÇ¨Ïπú", B: "Ïó∞ÎùΩÌïòÎäî Ï†ÑÏï†Ïù∏" },
            { A: "Ïû¨ÏûÖÎåÄ (2Î≤à)", B: "Î∞îÌÄ¥Î≤åÎ†à (1ÎÖÑ)" },
            { A: "ÌèâÏÉù Ïïà ÏîªÍ∏∞", B: "ÌèâÏÉù ÏñëÏπò ÏïàÌïòÍ∏∞" },
            { A: "ÌôòÏäπ Ïù¥Î≥Ñ", B: "Ïû†Ïàò Ïù¥Î≥Ñ" },
            { A: "Îä•Î†• Îπö 10Ïñµ", B: "Î∞±Ïàò ÏûêÏÇ∞ 100Ïñµ" },
            { A: "Ïä§ÌÇ®Ïã≠Îßå", B: "ÎßêÎßå Ìï®" },
            { A: "ÏñºÍµ¥ Ï≤úÏû¨ ÎÖ∏Ïûº", B: "ÌèâÎ≤î Í∞úÍ∑∏ Ï≤úÏû¨" },
            { A: "ÎãµÏû• 3ÏãúÍ∞Ñ", B: "ÎãµÏû• 3Ï¥à" },
            { A: "Í≥ÑÌöçÏ†Å (J)", B: "Ï¶âÌù•Ï†Å (P)" },
            { A: "Ïó¨Î¶Ñ Ìå®Îî©", B: "Í≤®Ïö∏ Î∞òÌåî" },
            { A: "Í≥†Í∏∞ ÎÅäÍ∏∞", B: "Î∞ÄÍ∞ÄÎ£® ÎÅäÍ∏∞" },
            { A: "Ïà®Îßå Ïâ¨Ïñ¥ÎèÑ 1Ïñµ", B: "50% ÌôïÎ•† 100Ïñµ" },
            { A: "ÏÇ¨ÏÉùÌôú Í≥µÍ∞ú", B: "ÏÇ¨ÏÉùÌôú ÎπÑÍ≥µÍ∞ú" },
            { A: "ÍπªÏûé ÎñºÏñ¥Ï£ºÍ∏∞", B: "Ï†àÎåÄ ÏïàÎèº" },
            { A: "Ïà†Î®πÍ≥† Ï†ÑÏï†Ïù∏", B: "Ïà†Î®πÍ≥† Î∂ÄÏû•Îãò" },
            { A: "Íµ∞ÎåÄ Ïû¨ÏûÖÎåÄ", B: "Ïï†Ïù∏ ÏóÜÏù¥ 10ÎÖÑ" }
        ];

        let questions = [...allQuestions]; 
        let historyData = [];
        let totalCount = allQuestions.length;
        
        let timeLeft = 300;
        let timerInterval;

        const textA = document.getElementById('textA');
        const textB = document.getElementById('textB');
        const boxA = document.getElementById('boxA');
        const boxB = document.getElementById('boxB');
        const timerDisplay = document.getElementById('timer');
        const progressBar = document.getElementById('progressBar');
        const gameScreen = document.getElementById('gameScreen');
        const resultScreen = document.getElementById('resultScreen');
        const resultList = document.getElementById('resultList');

        const analysisTitle = document.getElementById('analysisTitle');
        const analysisDesc = document.getElementById('analysisDesc');

        questions.sort(() => Math.random() - 0.5);
        loadQuestion();

        function loadQuestion() {
            if (questions.length === 0) {
                finishGame();
                return;
            }

            const progress = ((totalCount - questions.length) / totalCount) * 100;
            progressBar.style.width = `${progress}%`;

            const q = questions[questions.length - 1]; 
            
            textA.innerText = q.A;
            textB.innerText = q.B;
            
            resetStyles();
            resetTimer();
        }

        function select(choice) {
            const currentQ = questions.pop(); 

            historyData.push({
                question: currentQ,
                choice: choice
            });

            if (choice === 'A') {
                boxA.style.transform = "scale(1.05)";
                boxA.style.border = "3px solid #ff0000";
                boxB.style.opacity = "0.3";
            } else {
                boxB.style.transform = "scale(1.05)";
                boxB.style.border = "3px solid #00f2fe";
                boxA.style.opacity = "0.3";
            }

            setTimeout(loadQuestion, 200);
        }

        function finishGame() {
            clearInterval(timerInterval);
            progressBar.style.width = "100%";
            
            gameScreen.style.opacity = '0';
            setTimeout(() => {
                gameScreen.style.display = 'none';
                resultScreen.classList.add('show');
                generateAnalysis(); // Î∂ÑÏÑù ÏÉùÏÑ±
                renderResults(); // Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±
            }, 500);
        }

        // üî• [Î∂ÑÏÑù Î°úÏßÅ] ÏΩîÎ©òÌä∏ ÏÉùÏÑ±
        function generateAnalysis() {
            // A(Îπ®Í∞ï) vs B(ÌååÎûë) Í∞úÏàò ÏÑ∏Í∏∞
            let countA = historyData.filter(i => i.choice === 'A').length;
            let countB = historyData.filter(i => i.choice === 'B').length;
            
            let title = "";
            let desc = "";

            if (countA > countB + 2) {
                // AÍ∞Ä ÏïïÎèÑÏ†ÅÏúºÎ°ú ÎßéÏùÄ Í≤ΩÏö∞ (Îπ®Í∞ï/Í∞êÏÑ±/Î≥∏Îä•)
                title = "üî• ÏïºÏÉùÏùò Î∂àÎèÑÏ†Ä Î≥∏Îä• üî•";
                desc = "ÎãπÏã†ÏùÄ Íµ¨ÏÑùÍ∏∞ ÏãúÎåÄÏóê ÌÉúÏñ¥ÎÇ¨ÏúºÎ©¥ Î∂ÄÏ°±Ïû•Ïù¥ÏóàÏùÑ Í≤ÅÎãàÎã§. Ïã¨Î¶¨ÌïôÏ†ÅÏúºÎ°ú 'ÏæåÎùΩ Ï∂îÍµ¨Ìòï'Ïóê Í∞ÄÍπåÏö∞Î©∞, Í≥†ÎØºÎ≥¥Îã§Îäî ÌñâÎèôÏù¥ ÏïûÏÑúÎäî Ïä§ÌÉÄÏùº! ÌïÑÌÑ∞ ÏóÜÏù¥ ÏßÅÏßÑÌïòÎäî ÎãπÏã†Ïùò Îß§Î†•ÏùÄ ÏπòÎ™ÖÏ†ÅÏù¥ÏßÄÎßå, Í∞ÄÎÅîÏùÄ Î∏åÎ†àÏù¥ÌÅ¨Í∞Ä ÌïÑÏöîÌï†ÏßÄÎèÑ?";
            } else if (countB > countA + 2) {
                // BÍ∞Ä ÏïïÎèÑÏ†ÅÏúºÎ°ú ÎßéÏùÄ Í≤ΩÏö∞ (ÌååÎûë/Ïù¥ÏÑ±/ÎÖºÎ¶¨)
                title = "üßä AIÍ∏â ÎÉâÏ≤†Ìïú Ï†ÑÎûµÍ∞Ä üßä";
                desc = "ÎãπÏã†Ïùò Îáå Íµ¨Ï°∞Îäî Ïù∏Î•òÌïôÏ†ÅÏúºÎ°ú 'ÏÉùÏ°¥ Ï†ÑÎ¨∏Í∞Ä'Ïóê Í∞ÄÍπùÏäµÎãàÎã§. Î¶¨Ïä§ÌÅ¨Î•º Í∑πÎèÑÎ°ú Ïã´Ïñ¥ÌïòÍ≥† Ìö®Ïú®ÏùÑ Ï§ëÏãúÌïòÎäî ÌÉÄÏûÖ! Í∞êÏ†ïÏóê ÌúòÎëòÎ¶¨ÏßÄ ÏïäÎäî Ï∞®Í∞ÄÏö¥ Îß§Î†•Ïù¥ ÏûàÏßÄÎßå, Ïó∞Ïï†Ìï† ÎïåÎäî Í∞ÄÎÅî Ïò§Î•ò(Error)Í∞Ä ÎÇ† ÏàòÎèÑ?";
            } else {
                // ÎπÑÏä∑ÎπÑÏä∑Ìïú Í≤ΩÏö∞ (Î∞òÎ∞ò)
                title = "üé≠ Ï¢ÖÏû°ÏùÑ Ïàò ÏóÜÎäî Îß§Î†• üé≠";
                desc = "ÎãπÏã†ÏùÄ ÌîÑÎ°úÏù¥ÎìúÎèÑ Î∂ÑÏÑùÌïòÎã§Í∞Ä Ìè¨Í∏∞Ìï† Ïú†ÌòïÏûÖÎãàÎã§. Îú®Í±∞Ïõ†Îã§Í∞Ä Ï∞®Í∞ÄÏõ†Îã§Í∞Ä, Îã®Ïß†Îã®Ïß†Ïùò Ï†ïÏÑù! Ïñ¥ÎîîÎ°ú ÌäàÏßÄ Î™®Î•¥Îäî Îü≠ÎπÑÍ≥µ Í∞ôÏùÄ Îß§Î†• ÎïåÎ¨∏Ïóê Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§Ïù¥ Ïã¨Ïã¨Ìï† ÌãàÏù¥ ÏóÜÍ≤†ÎÑ§Ïöî.";
            }

            analysisTitle.innerText = title;
            analysisDesc.innerText = desc;
        }

        function renderResults() {
            resultList.innerHTML = ''; 

            historyData.forEach((item, index) => {
                const selectedText = item.choice === 'A' ? item.question.A : item.question.B;
                const badgeClass = item.choice === 'A' ? 'badge-a' : 'badge-b';
                
                const html = `
                    <div class="result-card">
                        <div class="choice-badge ${badgeClass}">${item.choice}</div>
                        <div class="result-text">${selectedText.replace(/\n/g, ' ')}</div>
                    </div>
                `;
                resultList.innerHTML += html;
            });
        }

        function startTimer() {
            timeLeft = 300;
            updateTimerUI();
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerUI();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    select(Math.random() > 0.5 ? 'A' : 'B'); 
                }
            }, 10);
        }

        function updateTimerUI() {
            const seconds = Math.floor(timeLeft / 100);
            const millis = timeLeft % 100;
            timerDisplay.innerText = `${seconds}.${millis < 10 ? '0' : ''}${millis}`;
            if(timeLeft < 100) timerDisplay.classList.add('timer-urgent');
            else timerDisplay.classList.remove('timer-urgent');
        }

        function resetTimer() { startTimer(); }
        function resetStyles() {
            boxA.style.transform = "scale(1)";
            boxA.style.opacity = "1";
            boxA.style.border = "2px solid rgba(255,255,255,0.1)";
            
            boxB.style.transform = "scale(1)";
            boxB.style.opacity = "1";
            boxB.style.border = "2px solid rgba(255,255,255,0.1)";
        }
    </script>
</body>
</html>